function getURLParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return r?unescape(r[2]):null}var birth=getURLParam("birthday");birth||alert("缺少参数 birthday");for(var year=parseInt(birth.slice(0,4)),month=parseInt(birth.slice(4,6))-1,day=parseInt(birth.slice(6,8)),birthday=new Date(year,month,day),live=(new Date-birthday)/2592e6,range=[0,live-1],color="#"+(getURLParam("color")||"f00"),background="#"+(getURLParam("background")||"fff"),i=0;30>i;i++)for(var j=0;30>j;j++){var current=30*i+j,canvas=document.getElementsByClassName("myLife")[0],ctx=canvas.getContext("2d");current>=range[0]&&current<=range[1]?ctx.fillStyle=color:ctx.fillStyle=background,ctx.fillRect(10*j+1,10*i+1,8,8),ctx.strokeStyle="#000",ctx.lineWidth=1,ctx.strokeRect(10*j,10*i,10,10)}setInterval(function(){document.getElementsByClassName("left")[0].innerHTML=((new Date-birthday)/2592e6/9).toFixed(9)},300);